{"ast":null,"code":"var _jsxFileName = \"/Users/choonwheepeh/demo/src/components/aTextField.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Box from \"@material-ui/core/Box\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { generateLabel, generateName } from \"./utils\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\n/*\nTextarea\nmultiline if multiline is true then rendered as a text area. If rows or maxRows are set then multiline is automatically set to true\nrows = number of rows (height) for the textarea\nmaxRows = number rows can grow until it reach maxRows. default to infinite\n\nAutoComplete\nautocompleteService: takes endpoint and calls backend service. backend service should return an array of objects with a label field. to map non standard objects set autocompleteGetOptionLabel \nautocompleteGetOptionLabel: function used to map label value to custom object. It pass the function to Material UI's TextField getOptionLabel\nautocompleteOptions: takes an array of objects with a label value by default. Use autocompleteGetOptionLabel\n\nvariant\nvariant = accepts standard material ui options like standard, filled and outlined and also added additional variations like classic and questionnaire. default to classic\n\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useClasses = makeStyles(theme => ({\n  infoIcon: {\n    fill: \"#999999\",\n    \"&:hover\": {\n      fill: \"#3366ff\"\n    }\n  }\n}));\n\nconst ATextField = props => {\n  _s();\n\n  const [autocompleteOptions, setAutocompleteOptions] = useState([]);\n  const mode = props.mode === undefined ? props.defaultMode === undefined ? \"edit\" : props.defaultMode : props.mode;\n  const variant = props.variant === undefined ? props.defaultVariant === undefined ? \"classic\" : props.defaultVariant : props.variant;\n  const classes = useClasses();\n  const autocomplete = props.autocompleteService === undefined && props.autocompleteOptions === undefined ? false : true;\n  const customVariant = variant === \"classic\" || variant === \"questionnaire\" ? true : false;\n  const label = generateLabel(props.label, props.name);\n  const name = generateName(props.name, props.label);\n  let textFieldProps = {\n    id: name,\n    name: name,\n    fullWidth: true\n  };\n  if (customVariant) textFieldProps.label = \"\";else textFieldProps.label = label;\n  if (props.defaultValue !== undefined) textFieldProps.defaultValue = props.defaultValue;\n  if (props.value !== undefined) textFieldProps.value = props.value;\n  if (props.multiline === true || props.rows > 1 || props.maxRows > 1) textFieldProps.multiline = true;\n  if (props.rows !== undefined) textFieldProps.rows = props.rows;\n  if (props.maxRows !== undefined) textFieldProps.maxRows = props.maxRows;\n  if (mode === \"disabled\") textFieldProps.disabled = true;\n  if (props.required !== undefined) textFieldProps.required = props.required;\n  if (props.error !== undefined) textFieldProps.error = props.error;\n  if (props.helperText !== undefined) textFieldProps.helperText = props.helperText;\n  textFieldProps.InputProps = { ...props.InputProps\n  };\n  if (mode === \"readOnly\") textFieldProps.InputProps.readOnly = true;\n  if (customVariant) textFieldProps.variant = \"outlined\";else if (!customVariant) textFieldProps.variant = variant;\n  props.size === undefined ? textFieldProps.size = \"small\" : textFieldProps.size = props.size;\n  console.log(textFieldProps);\n\n  const renderCustomVariant = inputRender => {\n    if (variant === \"classic\") {\n      return /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        width: props.width === undefined ? \"100%\" : props.width,\n        mt: \"20px\",\n        mb: \"20px\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          width: \"150px\",\n          textAlign: \"right\",\n          pr: \"10px\",\n          pt: \"7.5px\",\n          color: props.error ? \"#ee0000\" : \"\",\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            children: [label, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          flex: \"1\",\n          children: inputRender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          pl: \"10px\",\n          pt: \"7.5px\",\n          width: \"34px\",\n          children: props.info === undefined ? \"\" : renderInfo()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this);\n    } else if (variant === \"questionnaire\") {\n      return /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        width: props.width === undefined ? \"100%\" : props.width,\n        mt: \"20px\",\n        mb: \"20px\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"flex-start\",\n          width: \"100%\",\n          textAlign: \"left\",\n          pr: \"10px\",\n          pt: \"7.5px\",\n          color: props.error ? \"#ee0000\" : \"\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            pl: \"10px\",\n            width: \"34px\",\n            children: props.info === undefined ? \"\" : renderInfo()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            flex: \"1\",\n            children: inputRender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  const renderTextField = (textFieldProps, autocompleteParams) => {\n    if (customVariant) {\n      return renderCustomVariant(renderInputField(textFieldProps, autocompleteParams));\n    } else {\n      return renderInputField(textFieldProps, autocompleteParams);\n    }\n  };\n\n  const renderAutocompleteInput = (autocompleteProps, textFieldProps) => {\n    return /*#__PURE__*/_jsxDEV(Autocomplete, { ...autocompleteProps,\n      renderInput: params => renderInputField(textFieldProps, params)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  };\n\n  const renderInfo = () => {\n    return /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: props.info,\n      children: /*#__PURE__*/_jsxDEV(InfoOutlinedIcon, {\n        classes: {\n          root: classes.infoIcon\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this);\n  };\n\n  const renderInputField = (textFieldProps, autocompleteParams) => {\n    if (autocompleteParams === undefined) return /*#__PURE__*/_jsxDEV(TextField, { ...textFieldProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 14\n    }, this);else return /*#__PURE__*/_jsxDEV(TextField, { ...textFieldProps,\n      ...autocompleteParams\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }, this);\n  };\n\n  if (mode === \"hidden\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"none\"\n      },\n      children: renderTextField(textFieldProps)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this);\n  } else if (!autocomplete) {\n    return renderTextField(textFieldProps);\n  } else {\n    let autocompleteProps = {\n      id: name + \"_autocomplete\",\n      size: \"small\"\n    };\n\n    if (props.autocompleteService !== undefined) {\n      autocompleteProps.options = autocompleteOptions;\n\n      if (props.autocompleteGetOptionSelected === undefined) {\n        autocompleteProps.getOptionSelected = (option, value) => option.value === value.value;\n      } else {\n        autocompleteProps.getOptionSelected = props.autocompleteGetOptionSelected;\n      }\n\n      autocompleteProps.onInputChange = (event, value) => {\n        event.stopPropagation();\n        console.log(\"Autocomplete - Service: \" + props.autocompleteService + \" | Input Value: \" + value);\n        fetch(\"https://swapi.dev/api/starships/?format=json\") //alternate: https://swapi-deno.azurewebsites.net/api/starships\n        .then(response => response.json()).then(options => setAutocompleteOptions(options));\n      };\n    } else if (autocompleteOptions !== undefined) {\n      autocompleteProps.options = props.autocompleteOptions;\n    }\n\n    props.autocompleteGetOptionLabel === undefined ? autocompleteProps.getOptionLabel = option => option.label : autocompleteProps.getOptionLabel = props.autocompleteGetOptionLabel;\n    return renderCustomVariant(renderAutocompleteInput(autocompleteProps, textFieldProps));\n  }\n};\n\n_s(ATextField, \"KEopn1uifCwrEDyUVcLj2mkWR5A=\", false, function () {\n  return [useClasses];\n});\n\n_c = ATextField;\nexport default ATextField;\n\nvar _c;\n\n$RefreshReg$(_c, \"ATextField\");","map":{"version":3,"sources":["/Users/choonwheepeh/demo/src/components/aTextField.js"],"names":["React","useState","makeStyles","TextField","Box","Autocomplete","generateLabel","generateName","Typography","Tooltip","InfoOutlinedIcon","useClasses","theme","infoIcon","fill","ATextField","props","autocompleteOptions","setAutocompleteOptions","mode","undefined","defaultMode","variant","defaultVariant","classes","autocomplete","autocompleteService","customVariant","label","name","textFieldProps","id","fullWidth","defaultValue","value","multiline","rows","maxRows","disabled","required","error","helperText","InputProps","readOnly","size","console","log","renderCustomVariant","inputRender","width","info","renderInfo","renderTextField","autocompleteParams","renderInputField","renderAutocompleteInput","autocompleteProps","params","root","display","options","autocompleteGetOptionSelected","getOptionSelected","option","onInputChange","event","stopPropagation","fetch","then","response","json","autocompleteGetOptionLabel","getOptionLabel"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Box from \"@material-ui/core/Box\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { generateLabel, generateName } from \"./utils\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\n\n/*\nTextarea\nmultiline if multiline is true then rendered as a text area. If rows or maxRows are set then multiline is automatically set to true\nrows = number of rows (height) for the textarea\nmaxRows = number rows can grow until it reach maxRows. default to infinite\n\nAutoComplete\nautocompleteService: takes endpoint and calls backend service. backend service should return an array of objects with a label field. to map non standard objects set autocompleteGetOptionLabel \nautocompleteGetOptionLabel: function used to map label value to custom object. It pass the function to Material UI's TextField getOptionLabel\nautocompleteOptions: takes an array of objects with a label value by default. Use autocompleteGetOptionLabel\n\nvariant\nvariant = accepts standard material ui options like standard, filled and outlined and also added additional variations like classic and questionnaire. default to classic\n\n*/\n\nconst useClasses = makeStyles((theme) => ({\n  infoIcon: {\n    fill: \"#999999\",\n    \"&:hover\": {\n      fill: \"#3366ff\",\n    },\n  },\n}));\n\nconst ATextField = (props) => {\n  const [autocompleteOptions, setAutocompleteOptions] = useState([]);\n  const mode =\n    props.mode === undefined\n      ? props.defaultMode === undefined\n        ? \"edit\"\n        : props.defaultMode\n      : props.mode;\n\n  const variant =\n    props.variant === undefined\n      ? props.defaultVariant === undefined\n        ? \"classic\"\n        : props.defaultVariant\n      : props.variant;\n\n  \n\n  const classes = useClasses();\n\n  const autocomplete =\n    props.autocompleteService === undefined &&\n    props.autocompleteOptions === undefined\n      ? false\n      : true;\n\n  const customVariant =\n    variant === \"classic\" || variant === \"questionnaire\" ? true : false;\n\n  const label = generateLabel(props.label, props.name);\n\n  const name = generateName(props.name, props.label);\n  let textFieldProps = {\n    id: name,\n    name: name,\n    fullWidth: true,\n  };\n\n  if (customVariant) textFieldProps.label = \"\";\n  else textFieldProps.label = label;\n\n  if (props.defaultValue !== undefined)\n    textFieldProps.defaultValue = props.defaultValue;\n  if (props.value !== undefined) textFieldProps.value = props.value;\n  if (props.multiline === true || props.rows > 1 || props.maxRows > 1)\n    textFieldProps.multiline = true;\n  if (props.rows !== undefined) textFieldProps.rows = props.rows;\n  if (props.maxRows !== undefined) textFieldProps.maxRows = props.maxRows;\n  if (mode === \"disabled\") textFieldProps.disabled = true;\n  if (props.required !== undefined) textFieldProps.required = props.required;\n  if (props.error !== undefined) textFieldProps.error = props.error;\n  if (props.helperText !== undefined)\n    textFieldProps.helperText = props.helperText;\n  textFieldProps.InputProps = { ...props.InputProps };\n  if (mode === \"readOnly\") textFieldProps.InputProps.readOnly = true;\n\n  if (customVariant) textFieldProps.variant = \"outlined\";\n  else if (!customVariant) textFieldProps.variant = variant;\n  props.size === undefined\n    ? (textFieldProps.size = \"small\")\n    : (textFieldProps.size = props.size);\n\n  console.log(textFieldProps);\n\n  const renderCustomVariant = (inputRender) => {\n    if (variant === \"classic\") {\n      return (\n        <Box\n          display=\"flex\"\n          flexDirection=\"row\"\n          justifyContent=\"flex-start\"\n          width={props.width === undefined ? \"100%\" : props.width}\n          mt=\"20px\"\n          mb=\"20px\"\n        >\n          <Box\n            width=\"150px\"\n            textAlign=\"right\"\n            pr=\"10px\"\n            pt=\"7.5px\"\n            color={props.error ? \"#ee0000\" : \"\"}\n          >\n            <Typography>{label}:</Typography>\n          </Box>\n          <Box flex=\"1\">{inputRender}</Box>\n          <Box pl=\"10px\" pt=\"7.5px\" width=\"34px\">\n            {props.info === undefined ? \"\" : renderInfo()}\n          </Box>\n        </Box>\n      );\n    } else if (variant === \"questionnaire\") {\n      return (\n        <Box\n          display=\"flex\"\n          flexDirection=\"column\"\n          justifyContent=\"flex-start\"\n          width={props.width === undefined ? \"100%\" : props.width}\n          mt=\"20px\"\n          mb=\"20px\"\n        >\n          <Box\n            display=\"flex\"\n            flexDirection=\"row\"\n            justifyContent=\"flex-start\"\n            width=\"100%\"\n            textAlign=\"left\"\n            pr=\"10px\"\n            pt=\"7.5px\"\n            color={props.error ? \"#ee0000\" : \"\"}\n          >\n            <Typography>{label}</Typography>\n            <Box pl=\"10px\" width=\"34px\">\n              {props.info === undefined ? \"\" : renderInfo()}\n            </Box>\n          </Box>\n          <Box>\n            <Box flex=\"1\">{inputRender}</Box>\n          </Box>\n        </Box>\n      );\n    }\n  };\n\n  const renderTextField = (textFieldProps, autocompleteParams) => {\n    if (customVariant) {\n      return renderCustomVariant(\n        renderInputField(textFieldProps, autocompleteParams)\n      );\n    } else {\n      return renderInputField(textFieldProps, autocompleteParams);\n    }\n  };\n\n  const renderAutocompleteInput = (autocompleteProps, textFieldProps) => {\n    return (\n      <Autocomplete\n        {...autocompleteProps}\n        renderInput={(params) => renderInputField(textFieldProps, params)}\n      />\n    );\n  };\n\n  const renderInfo = () => {\n    return (\n      <Tooltip title={props.info}>\n        <InfoOutlinedIcon classes={{ root: classes.infoIcon }} />\n      </Tooltip>\n    );\n  };\n\n  const renderInputField = (textFieldProps, autocompleteParams) => {\n    if (autocompleteParams === undefined)\n      return <TextField {...textFieldProps} />;\n    else return <TextField {...textFieldProps} {...autocompleteParams} />;\n  };\n\n  if (mode === \"hidden\") {\n    return (\n      <div style={{ display: \"none\" }}>{renderTextField(textFieldProps)}</div>\n    );\n  } else if (!autocomplete) {\n    return renderTextField(textFieldProps);\n  } else {\n    let autocompleteProps = {\n      id: name + \"_autocomplete\",\n      size: \"small\",\n    };\n    if (props.autocompleteService !== undefined) {\n      autocompleteProps.options = autocompleteOptions;\n      if (props.autocompleteGetOptionSelected === undefined) {\n        autocompleteProps.getOptionSelected = (option, value) =>\n          option.value === value.value;\n      } else {\n        autocompleteProps.getOptionSelected =\n          props.autocompleteGetOptionSelected;\n      }\n      autocompleteProps.onInputChange = (event, value) => {\n        event.stopPropagation();\n        console.log(\n          \"Autocomplete - Service: \" +\n            props.autocompleteService +\n            \" | Input Value: \" +\n            value\n        );\n        fetch(\"https://swapi.dev/api/starships/?format=json\") //alternate: https://swapi-deno.azurewebsites.net/api/starships\n          .then((response) => response.json())\n          .then((options) => setAutocompleteOptions(options));\n      };\n    } else if (autocompleteOptions !== undefined) {\n      autocompleteProps.options = props.autocompleteOptions;\n    }\n    props.autocompleteGetOptionLabel === undefined\n      ? (autocompleteProps.getOptionLabel = (option) => option.label)\n      : (autocompleteProps.getOptionLabel = props.autocompleteGetOptionLabel);\n    return renderCustomVariant(\n      renderAutocompleteInput(autocompleteProps, textFieldProps)\n    );\n  }\n};\n\nexport default ATextField;\n"]},"metadata":{},"sourceType":"module"}